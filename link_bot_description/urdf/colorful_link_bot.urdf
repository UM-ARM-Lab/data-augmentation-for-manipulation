


<?xml version="1.0"?>
<robot name="link_bot">
    
    <link name="link_1">
        <visual>
            <cast_shadows>0</cast_shadows>
            <origin rpy="0 -1.5707 0" xyz="0.11 0 0"/>
            <geometry>
                <cylinder length="0.24" radius="0.02"/>
            </geometry>
        </visual>
        <collision name="link_1_collision">
            <origin rpy="0 -1.5707 0" xyz="0.11 0 0"/>
            <geometry>
                <box size="0.04 0.04 0.22"/>
            </geometry>
            <surface>
              <friction>
                <ode>
                  <mu>1</mu>
                  <mu2>1</mu2>
                </ode>
              </friction>
            </surface>
        </collision>
        <inertial>
            <mass value="0.25"/>
            <inertia
              ixx="6.666666666666667e-05"
              ixy="0"
              ixz="0"
              iyy="0.0011354166666666663"
              iyz="0"
              izz="0.0011354166666666663"/>
            <origin rpy="0 0 0" xyz="0.11 0 0"/>
        </inertial>
    </link>
    
    <link name="link_2">
        <visual>
            <cast_shadows>0</cast_shadows>
            <origin rpy="0 -1.5707 0" xyz="0.11 0 0"/>
            <geometry>
                <cylinder length="0.24" radius="0.02"/>
            </geometry>
        </visual>
        <collision name="link_2_collision">
            <origin rpy="0 -1.5707 0" xyz="0.11 0 0"/>
            <geometry>
                <box size="0.04 0.04 0.22"/>
            </geometry>
            <surface>
              <friction>
                <ode>
                  <mu>1</mu>
                  <mu2>1</mu2>
                </ode>
              </friction>
            </surface>
        </collision>
        <inertial>
            <mass value="0.25"/>
            <inertia
              ixx="6.666666666666667e-05"
              ixy="0"
              ixz="0"
              iyy="0.0011354166666666663"
              iyz="0"
              izz="0.0011354166666666663"/>
            <origin rpy="0 0 0" xyz="0.11 0 0"/>
        </inertial>
    </link>


    <link name="tail">
        <visual>
            <cast_shadows>0</cast_shadows>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <sphere radius="0.02"/>
            </geometry>
        </visual>
        <collision name="tail">
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <sphere radius="0.02" />
            </geometry>
            <surface>
                <friction>
                    <ode>
                        <mu>1</mu>
                        <mu2>1</mu2>
                    </ode>
                </friction>
            </surface>
        </collision>
        <inertial>
            <mass value="0.1"/>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.001"/>
        </inertial>
    </link>

    <link name="head">
        <visual>
            <cast_shadows>0</cast_shadows>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <sphere radius="0.02"/>
            </geometry>
        </visual>
        <collision name="head">
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <sphere radius="0.02" />
            </geometry>
            <surface>
              <friction>
                <ode>
                  <mu>1</mu>
                  <mu2>1</mu2>
                </ode>
              </friction>
            </surface>
        </collision>
        <inertial>
            <mass value="0.1"/>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.001"/>
        </inertial>
    </link>

    
    <joint name="joint_1" type="revolute">
        <parent link="link_1"/>
        <child link="link_2"/>
        <origin xyz="0.22999999999999998 0 0"/>
        <axis xyz="0 0 1"/>
        <limit lower="-3" upper="3" effort="10" velocity="5"/>
        <dynamics damping="1.0" friction="0.0"/>
    </joint>


    <joint name="tail_joint" type="revolute">
        <parent link="link_1"/>
        <child link="tail"/>
        <origin xyz="-.02 0 0"/>
        <axis xyz="0 0 1"/>
        <limit lower="-3" upper="3" effort="10" velocity="5"/>
        <dynamics damping="1.0" friction="0.0"/>
    </joint>


    <joint name="head_joint" type="revolute">
        <parent link="link_2"/>
        <child link="head"/>
        <origin xyz="0.22999999999999998 0 0"/>
        <axis xyz="0 0 1"/>
        <limit lower="-3" upper="3" effort="10" velocity="5"/>
        <dynamics damping="1.0" friction="0.0"/>
    </joint>

    
    <gazebo reference="link_1">
        <material>Gazebo/Green</material>
        <self_collide>true</self_collide>
        <sensor name='link_1_contact' type='contact'>
            <contact>
                <collision>link_1_collision</collision>
            </contact>
        </sensor>
    </gazebo>
    
    <gazebo reference="link_2">
        <material>Gazebo/Black</material>
        <self_collide>true</self_collide>
        <sensor name='link_2_contact' type='contact'>
            <contact>
                <collision>link_2_collision</collision>
            </contact>
        </sensor>
    </gazebo>

    <gazebo reference="tail">
        <self_collide>true</self_collide>
        <material>Gazebo/Orange</material>
    </gazebo>

    <gazebo reference="head">
        <self_collide>true</self_collide>
        <material>Gazebo/Yellow</material>
        <sensor name='head_contact' type='contact'>
            <contact>
                <collision>head_collision</collision>
            </contact>
        </sensor>
    </gazebo>

    <gazebo reference="head_joint">
    </gazebo>

    <gazebo>
        <plugin name="multi_link_bot_model_plugin" filename="libmulti_link_bot_model_plugin.so">
            <kP_pos>50</kP_pos>
            <kI_pos>0.001</kI_pos>
            <kD_pos>0.0</kD_pos>
            <kP_vel>50.0</kP_vel>
            <kI_vel>0.0</kI_vel>
            <kD_vel>0.0</kD_vel>
            <gripper1_link>head</gripper1_link>
        </plugin>
    </gazebo>
</robot>
